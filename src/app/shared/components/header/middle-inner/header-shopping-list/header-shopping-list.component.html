<div class="shopping-item">
  <div class="dropdown-cart-header">
    <span>{{ cartItems.length }}</span>
    <a routerLink="/cart">View Cart</a>
  </div>
  <ul class="shopping-list">
    @for (item of cartItems; track item) {
      <li>
        <a class="remove" title="Remove this item" (click)="removeItemFromCart(item)">
          <i class="pi pi-minus"></i>
        </a>
        <a class="cart-img" [routerLink]="['product-details', item.product._id]">
          <img [src]="baseUrl + item.product.imagePath" [alt]="item.product.name" />
        </a>
        <h4>
          <a [routerLink]="['product-details', item.product._id]">
            {{ item.product.name }}
          </a>
        </h4>
        <p class="quantity">
          {{ item.quantity }}x - <span class="amount">${{ item.product.price }}</span>
        </p>
      </li>
    }
  </ul>
  <div class="bottom">
    <div class="total">
      <span>Total</span>
      <span class="total-amount">${{ totalAmount }}</span>
    </div>
    @if (isUserLoggedIn) {
      <a routerLink="/checkout" class="btn animate">Checkout</a>
    } @else {
      <a routerLink="/login" class="btn animate">Checkout</a>
    }
  </div>
</div>
